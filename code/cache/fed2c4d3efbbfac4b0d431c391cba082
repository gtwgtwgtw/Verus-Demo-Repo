[Require Synthesized]
vals_1.len() == vals_2.len(),
vals_1.len() == conds_1.len(),
vals_1.len() == conds_2.len()
[End Require]
[Ensures Synthesized]
avgs.len() == vals_1.len(),
forall |i: usize| i < vals_1.len() ==>
    if conds_1[i] {
        if conds_2[i] {
            avgs[i] == (vals_1[i] + vals_2[i]) / 2
        } else {
            avgs[i] == vals_1[i]
        }
    } else {
        avgs[i] == vals_2[i]
    }
[End Ensures]